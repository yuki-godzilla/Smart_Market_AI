# 📄 Define Requirements - Smart Market AI

## 1. Background & Purpose

個人投資家がNISA制度を活用する際に、投資判断を支援するためのAIツールを開発する。銘柄の選定や売買のタイミング、リスク分析などをAIが支援し、ユーザーにレポートとして提供することを目的とする。

---

## 2. Scope

- **対象市場：**
  - *投資枠：* 高配当の個別株（日本株に限らず）
  - *積立枠：* 安定成長する投資信託商品
- **対象ユーザー：** 個人投資家（初心者〜中級者）
- **対象機能：** 第3章に記載
- **対象外：** 信用取引、仮想通貨、先物・オプションなど

---

## 3. Functional Requirements (What the System Will Do)

### 🔹 Core Function List

| 機能 | 概要 |
|---------|-------------|
| 銘柄予測 | 株価の将来予測（回帰／2値分類）を行う |
| 銘柄ランキング | 配当利回りや成長率をもとにスコアリング・ランク付け |
| 市場予測 | 日経平均やTOPIXなどのトレンドを分析・予測する |
| ポートフォリオ最適化 | 分散投資を考慮した銘柄組み合わせの最適化を行う |
| リスク分析 | ニュースや経済指標から投資リスクを分析する |
| レポート出力 | PDFやExcel形式で出力、Streamlitによる可視化も行う |

---

## 4. Non-Functional Requirements (How the System Should Behave)

| 要件 | 内容 |
|-------------|--------|
| ユーザビリティ | 初心者でも使いやすいUI（Streamlitベース） |
| パフォーマンス | 軽量かつ高速にローカルで動作することを前提とする |
| 拡張性 | ロジックや指標、銘柄などが柔軟に追加できる構成とする |
| 保守性 | UIとロジックを分離したモジュール構成とする |
| セキュリティ | 金融情報を外部に送信せず、基本的にローカルで完結させる |

---

## 5. Technologies

| 項目 | 使用技術・ライブラリ |
|---------|--------------|
| プログラミング言語 | Python 3.x |
| Webフレームワーク | Streamlit（または Flask） |
| 機械学習 | scikit-learn, XGBoost, PyTorch, Prophet |
| 可視化 | matplotlib, plotly, seaborn |
| データ取得 | yfinance, pandas_datareader, requests |
| ポートフォリオ分析 | PyPortfolioOpt, cvxpy |
| レポート出力 | pandas, openpyxl, fpdf |

---

## 6. Input & Output Requirements

### 🔽 Input（入力）

- 銘柄コード（ティッカー）
- 投資対象タイプ（個別株 or 投資信託）
- 投資金額・希望リスク度合い（ポートフォリオ用）

### 🔼 Output（出力）

- 売買判断（上がる／下がる、信頼度付き）
- 銘柄ランキング（スコア付き）
- 最適ポートフォリオ提案（分散と期待リターン）
- 市場予測レポート（PDF, Excel）
- Streamlit上でのダッシュボード可視化

---

## 7. Constraints & Prerequisites

- 外部APIは無料の範囲にとどめ、基本的にローカルで完結する構成とする
- ユーザーは基本的なPC操作スキルを持っていることが前提
- 金融アドバイスではなく、情報提供を目的とする（注意書きの表示が必要）

---

## 8. Future Considerations

- 予測スパン（1日／1週間／1ヶ月）の最適化
- ファンダメンタルデータ取得方法の整備
- 投資信託商品の可視化・評価機能の実装

